import React, { useState, useEffect } from 'react'
import { useLocation } from 'react-router'
import { Link } from 'react-router-dom';
import { Box, createTheme, Button, useMediaQuery } from "@mui/material";

import { colors } from '$lib/theme'

const NavBar = ({transparent}) => {
  const pathname = useLocation().pathname

  const [mobileNavOpen, setMobileNavOpen] = useState(false)

  const theme = createTheme({
    breakpoints: {
      values: {
        xs: 0,
        sm: 700,
        md: 900,
        lg: 1200,
        xl: 1536,
      }
    }
  })

  const smVW = useMediaQuery(theme.breakpoints.down('sm'))

  const linkStyles = {
    color: pathname === '/organizations' ? colors.blue[300] : mobileNavOpen ? colors.gray[500] : transparent ? 'white' : colors.gray[500],
    textDecoration: 'none',
    margin: 'auto 0',
    [theme.breakpoints.down('md')]: {
      fontSize: '12px'
    }
  }

  return (
    <Box component="div"
      sx={{
        width: '100vw',
        display: 'flex',
        justifyContent: 'space-between',
        boxSizing: 'border-box',
        padding: '20px 10%',
        backgroundColor: transparent ? 'transparent' : 'white',
        boxShadow: !transparent && '0px 4px 10px rgba(0, 0, 0, 0.08)',
        position: 'absolute',
        zIndex: '5'
      }}
    >
      {
        mobileNavOpen ? 
        <Link to="/">
          <svg width={smVW ? '62' : '108'} height="27" viewBox="0 0 108 27" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.737603 27C0.540908 27 0.363884 26.9319 0.206529 26.7957C0.0688428 26.6595 0 26.4843 0 26.2703V7.0054C0 6.79135 0.0688428 6.61622 0.206529 6.48C0.363884 6.34378 0.540908 6.27567 0.737603 6.27567H4.07157C4.28793 6.27567 4.46495 6.34378 4.60264 6.48C4.74033 6.61622 4.80917 6.79135 4.80917 7.0054V8.05622C5.87132 6.67459 7.39569 5.98378 9.3823 5.98378C11.3099 5.98378 12.8146 6.5773 13.8964 7.76432C14.9782 8.95135 15.5683 10.6249 15.6667 12.7849C15.6863 13.0378 15.6962 13.3978 15.6962 13.8649C15.6962 14.3319 15.6863 14.6919 15.6667 14.9449C15.588 17.0465 14.9979 18.7103 13.8964 19.9362C12.7949 21.1427 11.2902 21.7459 9.3823 21.7459C7.4547 21.7459 6.01884 21.0941 5.07471 19.7903V26.2703C5.07471 26.4843 5.00586 26.6595 4.86818 26.7957C4.73049 26.9319 4.55347 27 4.3371 27H0.737603ZM7.78908 17.8346C8.71354 17.8346 9.37247 17.5622 9.76586 17.0173C10.1789 16.4724 10.4149 15.7232 10.474 14.7697C10.5133 14.3805 10.533 14.0789 10.533 13.8649C10.533 13.6508 10.5133 13.3492 10.474 12.96C10.4149 12.0065 10.1789 11.2573 9.76586 10.7124C9.37247 10.1676 8.71354 9.89513 7.78908 9.89513C6.88429 9.89513 6.21553 10.1773 5.7828 10.7416C5.36975 11.2865 5.13371 11.9968 5.07471 12.8724L5.0452 13.9524L5.07471 15.0616C5.11404 15.8595 5.35991 16.5211 5.81231 17.0465C6.2647 17.5719 6.92363 17.8346 7.78908 17.8346Z" fill="#498AF4"/>
            <path d="M22.6255 21.7459C21.583 21.7459 20.6291 21.5513 19.7636 21.1622C18.9178 20.7535 18.2491 20.2086 17.7573 19.5276C17.2853 18.827 17.0492 18.0584 17.0492 17.2216C17.0492 15.8789 17.6 14.7989 18.7015 13.9816C19.8226 13.1643 21.3568 12.6 23.3041 12.2886L26.9921 11.7341V11.3254C26.9921 10.5859 26.8347 10.0411 26.52 9.69081C26.2053 9.34054 25.6743 9.1654 24.9268 9.1654C24.4744 9.1654 24.1007 9.24324 23.8057 9.39892C23.5106 9.55459 23.2057 9.76865 22.891 10.0411C22.6157 10.2746 22.4091 10.4303 22.2714 10.5081C22.2124 10.6638 22.1043 10.7416 21.9469 10.7416H18.731C18.5343 10.7416 18.3671 10.6832 18.2294 10.5665C18.1114 10.4303 18.0622 10.2746 18.0819 10.0995C18.1015 9.57405 18.3572 8.99027 18.849 8.34811C19.3604 7.70595 20.1275 7.15135 21.1503 6.68432C22.1928 6.2173 23.4713 5.98378 24.9858 5.98378C27.4052 5.98378 29.1951 6.51892 30.3556 7.58919C31.5161 8.64 32.0963 10.0605 32.0963 11.8508V20.7243C32.0963 20.9189 32.0275 21.0941 31.8898 21.2497C31.7521 21.3859 31.5751 21.4541 31.3587 21.4541H27.9362C27.7395 21.4541 27.5625 21.3859 27.4052 21.2497C27.2675 21.0941 27.1986 20.9189 27.1986 20.7243V19.7027C26.7659 20.3059 26.1562 20.8022 25.3694 21.1913C24.6023 21.5611 23.6876 21.7459 22.6255 21.7459ZM24.0122 18.4184C24.917 18.4184 25.6448 18.1265 26.1955 17.5427C26.7659 16.9589 27.0511 16.1027 27.0511 14.9741V14.5654L24.5433 15.0032C22.773 15.3146 21.8879 15.9276 21.8879 16.8422C21.8879 17.3286 22.0944 17.7178 22.5075 18.0097C22.9205 18.2822 23.4221 18.4184 24.0122 18.4184Z" fill="#498AF4"/>
            <path d="M39.8617 21.4541C39.5863 21.4541 39.3699 21.3957 39.2126 21.2789C39.0749 21.1427 38.9569 20.9578 38.8585 20.7243L33.2822 7.18054L33.2232 6.91784C33.2232 6.7427 33.2822 6.59676 33.4003 6.48C33.5379 6.34378 33.7051 6.27567 33.9018 6.27567H37.2358C37.6685 6.27567 37.9537 6.48 38.0914 6.88865L41.4254 15.8497L44.7888 6.88865C44.9265 6.48 45.2117 6.27567 45.6445 6.27567H48.9784C49.1554 6.27567 49.3128 6.34378 49.4505 6.48C49.5882 6.59676 49.657 6.7427 49.657 6.91784L49.598 7.18054L44.0217 20.7243C43.9234 20.9578 43.7955 21.1427 43.6382 21.2789C43.4808 21.3957 43.2645 21.4541 42.9891 21.4541H39.8617Z" fill="#498AF4"/>
            <path d="M52.0683 4.08649C51.8519 4.08649 51.6749 4.01838 51.5372 3.88216C51.3995 3.74595 51.3307 3.57081 51.3307 3.35676V0.729729C51.3307 0.515675 51.3995 0.34054 51.5372 0.204323C51.6749 0.0681078 51.8519 0 52.0683 0H55.6088C55.8251 0 56.0022 0.0681078 56.1399 0.204323C56.2775 0.34054 56.3464 0.515675 56.3464 0.729729V3.35676C56.3464 3.57081 56.2775 3.74595 56.1399 3.88216C56.0022 4.01838 55.8251 4.08649 55.6088 4.08649H52.0683ZM52.0978 21.4541C51.8814 21.4541 51.7044 21.3859 51.5667 21.2497C51.429 21.1135 51.3602 20.9384 51.3602 20.7243V7.0054C51.3602 6.79135 51.429 6.61622 51.5667 6.48C51.7044 6.34378 51.8814 6.27567 52.0978 6.27567H55.5793C55.7956 6.27567 55.9727 6.34378 56.1103 6.48C56.248 6.61622 56.3169 6.79135 56.3169 7.0054V20.7243C56.3169 20.9189 56.248 21.0941 56.1103 21.2497C55.9727 21.3859 55.7956 21.4541 55.5793 21.4541H52.0978Z" fill="#498AF4"/>
            <path d="M59.9498 21.4541C59.7531 21.4541 59.5761 21.3859 59.4187 21.2497C59.281 21.0941 59.2122 20.9189 59.2122 20.7243V1.45946C59.2122 1.2454 59.281 1.07027 59.4187 0.934054C59.5761 0.797837 59.7531 0.729729 59.9498 0.729729H63.4313C63.6476 0.729729 63.8247 0.797837 63.9624 0.934054C64.1 1.07027 64.1689 1.2454 64.1689 1.45946V20.7243C64.1689 20.9384 64.1 21.1135 63.9624 21.2497C63.8247 21.3859 63.6476 21.4541 63.4313 21.4541H59.9498Z" fill="#498AF4"/>
            <path d="M67.7723 4.08649C67.5559 4.08649 67.3789 4.01838 67.2412 3.88216C67.1035 3.74595 67.0347 3.57081 67.0347 3.35676V0.729729C67.0347 0.515675 67.1035 0.34054 67.2412 0.204323C67.3789 0.0681078 67.5559 0 67.7723 0H71.3128C71.5292 0 71.7062 0.0681078 71.8439 0.204323C71.9816 0.34054 72.0504 0.515675 72.0504 0.729729V3.35676C72.0504 3.57081 71.9816 3.74595 71.8439 3.88216C71.7062 4.01838 71.5292 4.08649 71.3128 4.08649H67.7723ZM67.8018 21.4541C67.5854 21.4541 67.4084 21.3859 67.2707 21.2497C67.133 21.1135 67.0642 20.9384 67.0642 20.7243V7.0054C67.0642 6.79135 67.133 6.61622 67.2707 6.48C67.4084 6.34378 67.5854 6.27567 67.8018 6.27567H71.2833C71.4997 6.27567 71.6767 6.34378 71.8144 6.48C71.9521 6.61622 72.0209 6.79135 72.0209 7.0054V20.7243C72.0209 20.9189 71.9521 21.0941 71.8144 21.2497C71.6767 21.3859 71.4997 21.4541 71.2833 21.4541H67.8018Z" fill="#498AF4"/>
            <path d="M82.1742 21.7459C79.7352 21.7459 77.8568 21.1719 76.5389 20.0238C75.2211 18.8757 74.5032 17.2605 74.3851 15.1784C74.3655 14.9254 74.3556 14.4876 74.3556 13.8649C74.3556 13.2422 74.3655 12.8043 74.3851 12.5514C74.5032 10.4886 75.2408 8.88324 76.5979 7.73513C77.9551 6.56757 79.8139 5.98378 82.1742 5.98378C84.5542 5.98378 86.4228 6.56757 87.78 7.73513C89.1372 8.88324 89.8748 10.4886 89.9928 12.5514C90.0125 12.8043 90.0223 13.2422 90.0223 13.8649C90.0223 14.4876 90.0125 14.9254 89.9928 15.1784C89.8748 17.2605 89.1569 18.8757 87.839 20.0238C86.5212 21.1719 84.6329 21.7459 82.1742 21.7459ZM82.1742 18.1849C83.0397 18.1849 83.6789 17.9319 84.092 17.4259C84.5051 16.9005 84.7411 16.1027 84.8001 15.0324C84.8198 14.8378 84.8296 14.4486 84.8296 13.8649C84.8296 13.2811 84.8198 12.8919 84.8001 12.6973C84.7411 11.6465 84.4952 10.8584 84.0625 10.333C83.6494 9.80757 83.02 9.54486 82.1742 9.54486C80.5417 9.54486 79.6762 10.5957 79.5779 12.6973L79.5484 13.8649L79.5779 15.0324C79.6172 16.1027 79.8434 16.9005 80.2565 17.4259C80.6892 17.9319 81.3284 18.1849 82.1742 18.1849Z" fill="#498AF4"/>
            <path d="M93.1004 21.4541C92.8841 21.4541 92.707 21.3859 92.5694 21.2497C92.4317 21.1135 92.3628 20.9384 92.3628 20.7243V7.0054C92.3628 6.79135 92.4317 6.61622 92.5694 6.48C92.707 6.34378 92.8841 6.27567 93.1004 6.27567H96.4934C96.7098 6.27567 96.8868 6.34378 97.0245 6.48C97.1818 6.61622 97.2605 6.79135 97.2605 7.0054V8.11459C97.7916 7.47243 98.4702 6.95676 99.2963 6.56757C100.142 6.17838 101.096 5.98378 102.158 5.98378C103.889 5.98378 105.295 6.56757 106.377 7.73513C107.459 8.88324 108 10.4984 108 12.5805V20.7243C108 20.9189 107.931 21.0941 107.793 21.2497C107.656 21.3859 107.479 21.4541 107.262 21.4541H103.545C103.348 21.4541 103.171 21.3859 103.014 21.2497C102.876 21.0941 102.807 20.9189 102.807 20.7243V12.7557C102.807 11.8411 102.581 11.1405 102.129 10.6541C101.676 10.1481 101.027 9.89513 100.181 9.89513C99.3553 9.89513 98.7062 10.1481 98.2341 10.6541C97.7621 11.1405 97.526 11.8411 97.526 12.7557V20.7243C97.526 20.9189 97.4572 21.0941 97.3195 21.2497C97.1818 21.3859 97.0048 21.4541 96.7884 21.4541H93.1004Z" fill="#498AF4"/>
          </svg>
        </Link>
        :
        transparent && !mobileNavOpen ?
        <Link to="/">
          <svg width={smVW ? '62' : '108'} height="27" viewBox="0 0 108 27" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.737603 27C0.540908 27 0.363884 26.9319 0.206529 26.7957C0.0688428 26.6595 0 26.4843 0 26.2703V7.0054C0 6.79135 0.0688428 6.61622 0.206529 6.48C0.363884 6.34378 0.540908 6.27567 0.737603 6.27567H4.07157C4.28793 6.27567 4.46495 6.34378 4.60264 6.48C4.74033 6.61622 4.80917 6.79135 4.80917 7.0054V8.05622C5.87132 6.67459 7.39569 5.98378 9.3823 5.98378C11.3099 5.98378 12.8146 6.5773 13.8964 7.76432C14.9782 8.95135 15.5683 10.6249 15.6667 12.7849C15.6863 13.0378 15.6962 13.3978 15.6962 13.8649C15.6962 14.3319 15.6863 14.6919 15.6667 14.9449C15.588 17.0465 14.9979 18.7103 13.8964 19.9362C12.7949 21.1427 11.2902 21.7459 9.3823 21.7459C7.4547 21.7459 6.01884 21.0941 5.07471 19.7903V26.2703C5.07471 26.4843 5.00586 26.6595 4.86818 26.7957C4.73049 26.9319 4.55347 27 4.3371 27H0.737603ZM7.78908 17.8346C8.71354 17.8346 9.37247 17.5622 9.76586 17.0173C10.1789 16.4724 10.4149 15.7232 10.474 14.7697C10.5133 14.3805 10.533 14.0789 10.533 13.8649C10.533 13.6508 10.5133 13.3492 10.474 12.96C10.4149 12.0065 10.1789 11.2573 9.76586 10.7124C9.37247 10.1676 8.71354 9.89513 7.78908 9.89513C6.88429 9.89513 6.21553 10.1773 5.7828 10.7416C5.36975 11.2865 5.13371 11.9968 5.07471 12.8724L5.0452 13.9524L5.07471 15.0616C5.11404 15.8595 5.35991 16.5211 5.81231 17.0465C6.2647 17.5719 6.92363 17.8346 7.78908 17.8346Z" fill="white"/>
            <path d="M22.6255 21.7459C21.583 21.7459 20.6291 21.5513 19.7636 21.1622C18.9178 20.7535 18.2491 20.2086 17.7573 19.5276C17.2853 18.827 17.0492 18.0584 17.0492 17.2216C17.0492 15.8789 17.6 14.7989 18.7015 13.9816C19.8226 13.1643 21.3568 12.6 23.3041 12.2886L26.9921 11.7341V11.3254C26.9921 10.5859 26.8347 10.0411 26.52 9.69081C26.2053 9.34054 25.6743 9.1654 24.9268 9.1654C24.4744 9.1654 24.1007 9.24324 23.8057 9.39892C23.5106 9.55459 23.2057 9.76865 22.891 10.0411C22.6157 10.2746 22.4091 10.4303 22.2714 10.5081C22.2124 10.6638 22.1043 10.7416 21.9469 10.7416H18.731C18.5343 10.7416 18.3671 10.6832 18.2294 10.5665C18.1114 10.4303 18.0622 10.2746 18.0819 10.0995C18.1015 9.57405 18.3572 8.99027 18.849 8.34811C19.3604 7.70595 20.1275 7.15135 21.1503 6.68432C22.1928 6.2173 23.4713 5.98378 24.9858 5.98378C27.4052 5.98378 29.1951 6.51892 30.3556 7.58919C31.5161 8.64 32.0963 10.0605 32.0963 11.8508V20.7243C32.0963 20.9189 32.0275 21.0941 31.8898 21.2497C31.7521 21.3859 31.5751 21.4541 31.3587 21.4541H27.9362C27.7395 21.4541 27.5625 21.3859 27.4052 21.2497C27.2675 21.0941 27.1986 20.9189 27.1986 20.7243V19.7027C26.7659 20.3059 26.1562 20.8022 25.3694 21.1913C24.6023 21.5611 23.6876 21.7459 22.6255 21.7459ZM24.0122 18.4184C24.917 18.4184 25.6448 18.1265 26.1955 17.5427C26.7659 16.9589 27.0511 16.1027 27.0511 14.9741V14.5654L24.5433 15.0032C22.773 15.3146 21.8879 15.9276 21.8879 16.8422C21.8879 17.3286 22.0944 17.7178 22.5075 18.0097C22.9205 18.2822 23.4221 18.4184 24.0122 18.4184Z" fill="white"/>
            <path d="M39.8617 21.4541C39.5863 21.4541 39.3699 21.3957 39.2126 21.2789C39.0749 21.1427 38.9569 20.9578 38.8585 20.7243L33.2822 7.18054L33.2232 6.91784C33.2232 6.7427 33.2822 6.59676 33.4003 6.48C33.5379 6.34378 33.7051 6.27567 33.9018 6.27567H37.2358C37.6685 6.27567 37.9537 6.48 38.0914 6.88865L41.4254 15.8497L44.7888 6.88865C44.9265 6.48 45.2117 6.27567 45.6445 6.27567H48.9784C49.1554 6.27567 49.3128 6.34378 49.4505 6.48C49.5882 6.59676 49.657 6.7427 49.657 6.91784L49.598 7.18054L44.0217 20.7243C43.9234 20.9578 43.7955 21.1427 43.6382 21.2789C43.4808 21.3957 43.2645 21.4541 42.9891 21.4541H39.8617Z" fill="white"/>
            <path d="M52.0683 4.08649C51.8519 4.08649 51.6749 4.01838 51.5372 3.88216C51.3995 3.74595 51.3307 3.57081 51.3307 3.35676V0.729729C51.3307 0.515675 51.3995 0.34054 51.5372 0.204323C51.6749 0.0681078 51.8519 0 52.0683 0H55.6088C55.8251 0 56.0022 0.0681078 56.1399 0.204323C56.2775 0.34054 56.3464 0.515675 56.3464 0.729729V3.35676C56.3464 3.57081 56.2775 3.74595 56.1399 3.88216C56.0022 4.01838 55.8251 4.08649 55.6088 4.08649H52.0683ZM52.0978 21.4541C51.8814 21.4541 51.7044 21.3859 51.5667 21.2497C51.429 21.1135 51.3602 20.9384 51.3602 20.7243V7.0054C51.3602 6.79135 51.429 6.61622 51.5667 6.48C51.7044 6.34378 51.8814 6.27567 52.0978 6.27567H55.5793C55.7956 6.27567 55.9727 6.34378 56.1103 6.48C56.248 6.61622 56.3169 6.79135 56.3169 7.0054V20.7243C56.3169 20.9189 56.248 21.0941 56.1103 21.2497C55.9727 21.3859 55.7956 21.4541 55.5793 21.4541H52.0978Z" fill="white"/>
            <path d="M59.9498 21.4541C59.7531 21.4541 59.5761 21.3859 59.4187 21.2497C59.281 21.0941 59.2122 20.9189 59.2122 20.7243V1.45946C59.2122 1.2454 59.281 1.07027 59.4187 0.934054C59.5761 0.797837 59.7531 0.729729 59.9498 0.729729H63.4313C63.6476 0.729729 63.8247 0.797837 63.9624 0.934054C64.1 1.07027 64.1689 1.2454 64.1689 1.45946V20.7243C64.1689 20.9384 64.1 21.1135 63.9624 21.2497C63.8247 21.3859 63.6476 21.4541 63.4313 21.4541H59.9498Z" fill="white"/>
            <path d="M67.7723 4.08649C67.5559 4.08649 67.3789 4.01838 67.2412 3.88216C67.1035 3.74595 67.0347 3.57081 67.0347 3.35676V0.729729C67.0347 0.515675 67.1035 0.34054 67.2412 0.204323C67.3789 0.0681078 67.5559 0 67.7723 0H71.3128C71.5292 0 71.7062 0.0681078 71.8439 0.204323C71.9816 0.34054 72.0504 0.515675 72.0504 0.729729V3.35676C72.0504 3.57081 71.9816 3.74595 71.8439 3.88216C71.7062 4.01838 71.5292 4.08649 71.3128 4.08649H67.7723ZM67.8018 21.4541C67.5854 21.4541 67.4084 21.3859 67.2707 21.2497C67.133 21.1135 67.0642 20.9384 67.0642 20.7243V7.0054C67.0642 6.79135 67.133 6.61622 67.2707 6.48C67.4084 6.34378 67.5854 6.27567 67.8018 6.27567H71.2833C71.4997 6.27567 71.6767 6.34378 71.8144 6.48C71.9521 6.61622 72.0209 6.79135 72.0209 7.0054V20.7243C72.0209 20.9189 71.9521 21.0941 71.8144 21.2497C71.6767 21.3859 71.4997 21.4541 71.2833 21.4541H67.8018Z" fill="white"/>
            <path d="M82.1742 21.7459C79.7352 21.7459 77.8568 21.1719 76.5389 20.0238C75.2211 18.8757 74.5032 17.2605 74.3851 15.1784C74.3655 14.9254 74.3556 14.4876 74.3556 13.8649C74.3556 13.2422 74.3655 12.8043 74.3851 12.5514C74.5032 10.4886 75.2408 8.88324 76.5979 7.73513C77.9551 6.56757 79.8139 5.98378 82.1742 5.98378C84.5542 5.98378 86.4228 6.56757 87.78 7.73513C89.1372 8.88324 89.8748 10.4886 89.9928 12.5514C90.0125 12.8043 90.0223 13.2422 90.0223 13.8649C90.0223 14.4876 90.0125 14.9254 89.9928 15.1784C89.8748 17.2605 89.1569 18.8757 87.839 20.0238C86.5212 21.1719 84.6329 21.7459 82.1742 21.7459ZM82.1742 18.1849C83.0397 18.1849 83.6789 17.9319 84.092 17.4259C84.5051 16.9005 84.7411 16.1027 84.8001 15.0324C84.8198 14.8378 84.8296 14.4486 84.8296 13.8649C84.8296 13.2811 84.8198 12.8919 84.8001 12.6973C84.7411 11.6465 84.4952 10.8584 84.0625 10.333C83.6494 9.80757 83.02 9.54486 82.1742 9.54486C80.5417 9.54486 79.6762 10.5957 79.5779 12.6973L79.5484 13.8649L79.5779 15.0324C79.6172 16.1027 79.8434 16.9005 80.2565 17.4259C80.6892 17.9319 81.3284 18.1849 82.1742 18.1849Z" fill="white"/>
            <path d="M93.1004 21.4541C92.8841 21.4541 92.707 21.3859 92.5694 21.2497C92.4317 21.1135 92.3628 20.9384 92.3628 20.7243V7.0054C92.3628 6.79135 92.4317 6.61622 92.5694 6.48C92.707 6.34378 92.8841 6.27567 93.1004 6.27567H96.4934C96.7098 6.27567 96.8868 6.34378 97.0245 6.48C97.1818 6.61622 97.2605 6.79135 97.2605 7.0054V8.11459C97.7916 7.47243 98.4702 6.95676 99.2963 6.56757C100.142 6.17838 101.096 5.98378 102.158 5.98378C103.889 5.98378 105.295 6.56757 106.377 7.73513C107.459 8.88324 108 10.4984 108 12.5805V20.7243C108 20.9189 107.931 21.0941 107.793 21.2497C107.656 21.3859 107.479 21.4541 107.262 21.4541H103.545C103.348 21.4541 103.171 21.3859 103.014 21.2497C102.876 21.0941 102.807 20.9189 102.807 20.7243V12.7557C102.807 11.8411 102.581 11.1405 102.129 10.6541C101.676 10.1481 101.027 9.89513 100.181 9.89513C99.3553 9.89513 98.7062 10.1481 98.2341 10.6541C97.7621 11.1405 97.526 11.8411 97.526 12.7557V20.7243C97.526 20.9189 97.4572 21.0941 97.3195 21.2497C97.1818 21.3859 97.0048 21.4541 96.7884 21.4541H93.1004Z" fill="white"/>
          </svg>
        </Link>
        :
        <Link to="/">
          <svg width={smVW ? '62' : '108'} height="27" viewBox="0 0 108 27" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.737603 27C0.540908 27 0.363884 26.9319 0.206529 26.7957C0.0688428 26.6595 0 26.4843 0 26.2703V7.0054C0 6.79135 0.0688428 6.61622 0.206529 6.48C0.363884 6.34378 0.540908 6.27567 0.737603 6.27567H4.07157C4.28793 6.27567 4.46495 6.34378 4.60264 6.48C4.74033 6.61622 4.80917 6.79135 4.80917 7.0054V8.05622C5.87132 6.67459 7.39569 5.98378 9.3823 5.98378C11.3099 5.98378 12.8146 6.5773 13.8964 7.76432C14.9782 8.95135 15.5683 10.6249 15.6667 12.7849C15.6863 13.0378 15.6962 13.3978 15.6962 13.8649C15.6962 14.3319 15.6863 14.6919 15.6667 14.9449C15.588 17.0465 14.9979 18.7103 13.8964 19.9362C12.7949 21.1427 11.2902 21.7459 9.3823 21.7459C7.4547 21.7459 6.01884 21.0941 5.07471 19.7903V26.2703C5.07471 26.4843 5.00586 26.6595 4.86818 26.7957C4.73049 26.9319 4.55347 27 4.3371 27H0.737603ZM7.78908 17.8346C8.71354 17.8346 9.37247 17.5622 9.76586 17.0173C10.1789 16.4724 10.4149 15.7232 10.474 14.7697C10.5133 14.3805 10.533 14.0789 10.533 13.8649C10.533 13.6508 10.5133 13.3492 10.474 12.96C10.4149 12.0065 10.1789 11.2573 9.76586 10.7124C9.37247 10.1676 8.71354 9.89513 7.78908 9.89513C6.88429 9.89513 6.21553 10.1773 5.7828 10.7416C5.36975 11.2865 5.13371 11.9968 5.07471 12.8724L5.0452 13.9524L5.07471 15.0616C5.11404 15.8595 5.35991 16.5211 5.81231 17.0465C6.2647 17.5719 6.92363 17.8346 7.78908 17.8346Z" fill="#498AF4"/>
            <path d="M22.6255 21.7459C21.583 21.7459 20.6291 21.5513 19.7636 21.1622C18.9178 20.7535 18.2491 20.2086 17.7573 19.5276C17.2853 18.827 17.0492 18.0584 17.0492 17.2216C17.0492 15.8789 17.6 14.7989 18.7015 13.9816C19.8226 13.1643 21.3568 12.6 23.3041 12.2886L26.9921 11.7341V11.3254C26.9921 10.5859 26.8347 10.0411 26.52 9.69081C26.2053 9.34054 25.6743 9.1654 24.9268 9.1654C24.4744 9.1654 24.1007 9.24324 23.8057 9.39892C23.5106 9.55459 23.2057 9.76865 22.891 10.0411C22.6157 10.2746 22.4091 10.4303 22.2714 10.5081C22.2124 10.6638 22.1043 10.7416 21.9469 10.7416H18.731C18.5343 10.7416 18.3671 10.6832 18.2294 10.5665C18.1114 10.4303 18.0622 10.2746 18.0819 10.0995C18.1015 9.57405 18.3572 8.99027 18.849 8.34811C19.3604 7.70595 20.1275 7.15135 21.1503 6.68432C22.1928 6.2173 23.4713 5.98378 24.9858 5.98378C27.4052 5.98378 29.1951 6.51892 30.3556 7.58919C31.5161 8.64 32.0963 10.0605 32.0963 11.8508V20.7243C32.0963 20.9189 32.0275 21.0941 31.8898 21.2497C31.7521 21.3859 31.5751 21.4541 31.3587 21.4541H27.9362C27.7395 21.4541 27.5625 21.3859 27.4052 21.2497C27.2675 21.0941 27.1986 20.9189 27.1986 20.7243V19.7027C26.7659 20.3059 26.1562 20.8022 25.3694 21.1913C24.6023 21.5611 23.6876 21.7459 22.6255 21.7459ZM24.0122 18.4184C24.917 18.4184 25.6448 18.1265 26.1955 17.5427C26.7659 16.9589 27.0511 16.1027 27.0511 14.9741V14.5654L24.5433 15.0032C22.773 15.3146 21.8879 15.9276 21.8879 16.8422C21.8879 17.3286 22.0944 17.7178 22.5075 18.0097C22.9205 18.2822 23.4221 18.4184 24.0122 18.4184Z" fill="#498AF4"/>
            <path d="M39.8617 21.4541C39.5863 21.4541 39.3699 21.3957 39.2126 21.2789C39.0749 21.1427 38.9569 20.9578 38.8585 20.7243L33.2822 7.18054L33.2232 6.91784C33.2232 6.7427 33.2822 6.59676 33.4003 6.48C33.5379 6.34378 33.7051 6.27567 33.9018 6.27567H37.2358C37.6685 6.27567 37.9537 6.48 38.0914 6.88865L41.4254 15.8497L44.7888 6.88865C44.9265 6.48 45.2117 6.27567 45.6445 6.27567H48.9784C49.1554 6.27567 49.3128 6.34378 49.4505 6.48C49.5882 6.59676 49.657 6.7427 49.657 6.91784L49.598 7.18054L44.0217 20.7243C43.9234 20.9578 43.7955 21.1427 43.6382 21.2789C43.4808 21.3957 43.2645 21.4541 42.9891 21.4541H39.8617Z" fill="#498AF4"/>
            <path d="M52.0683 4.08649C51.8519 4.08649 51.6749 4.01838 51.5372 3.88216C51.3995 3.74595 51.3307 3.57081 51.3307 3.35676V0.729729C51.3307 0.515675 51.3995 0.34054 51.5372 0.204323C51.6749 0.0681078 51.8519 0 52.0683 0H55.6088C55.8251 0 56.0022 0.0681078 56.1399 0.204323C56.2775 0.34054 56.3464 0.515675 56.3464 0.729729V3.35676C56.3464 3.57081 56.2775 3.74595 56.1399 3.88216C56.0022 4.01838 55.8251 4.08649 55.6088 4.08649H52.0683ZM52.0978 21.4541C51.8814 21.4541 51.7044 21.3859 51.5667 21.2497C51.429 21.1135 51.3602 20.9384 51.3602 20.7243V7.0054C51.3602 6.79135 51.429 6.61622 51.5667 6.48C51.7044 6.34378 51.8814 6.27567 52.0978 6.27567H55.5793C55.7956 6.27567 55.9727 6.34378 56.1103 6.48C56.248 6.61622 56.3169 6.79135 56.3169 7.0054V20.7243C56.3169 20.9189 56.248 21.0941 56.1103 21.2497C55.9727 21.3859 55.7956 21.4541 55.5793 21.4541H52.0978Z" fill="#498AF4"/>
            <path d="M59.9498 21.4541C59.7531 21.4541 59.5761 21.3859 59.4187 21.2497C59.281 21.0941 59.2122 20.9189 59.2122 20.7243V1.45946C59.2122 1.2454 59.281 1.07027 59.4187 0.934054C59.5761 0.797837 59.7531 0.729729 59.9498 0.729729H63.4313C63.6476 0.729729 63.8247 0.797837 63.9624 0.934054C64.1 1.07027 64.1689 1.2454 64.1689 1.45946V20.7243C64.1689 20.9384 64.1 21.1135 63.9624 21.2497C63.8247 21.3859 63.6476 21.4541 63.4313 21.4541H59.9498Z" fill="#498AF4"/>
            <path d="M67.7723 4.08649C67.5559 4.08649 67.3789 4.01838 67.2412 3.88216C67.1035 3.74595 67.0347 3.57081 67.0347 3.35676V0.729729C67.0347 0.515675 67.1035 0.34054 67.2412 0.204323C67.3789 0.0681078 67.5559 0 67.7723 0H71.3128C71.5292 0 71.7062 0.0681078 71.8439 0.204323C71.9816 0.34054 72.0504 0.515675 72.0504 0.729729V3.35676C72.0504 3.57081 71.9816 3.74595 71.8439 3.88216C71.7062 4.01838 71.5292 4.08649 71.3128 4.08649H67.7723ZM67.8018 21.4541C67.5854 21.4541 67.4084 21.3859 67.2707 21.2497C67.133 21.1135 67.0642 20.9384 67.0642 20.7243V7.0054C67.0642 6.79135 67.133 6.61622 67.2707 6.48C67.4084 6.34378 67.5854 6.27567 67.8018 6.27567H71.2833C71.4997 6.27567 71.6767 6.34378 71.8144 6.48C71.9521 6.61622 72.0209 6.79135 72.0209 7.0054V20.7243C72.0209 20.9189 71.9521 21.0941 71.8144 21.2497C71.6767 21.3859 71.4997 21.4541 71.2833 21.4541H67.8018Z" fill="#498AF4"/>
            <path d="M82.1742 21.7459C79.7352 21.7459 77.8568 21.1719 76.5389 20.0238C75.2211 18.8757 74.5032 17.2605 74.3851 15.1784C74.3655 14.9254 74.3556 14.4876 74.3556 13.8649C74.3556 13.2422 74.3655 12.8043 74.3851 12.5514C74.5032 10.4886 75.2408 8.88324 76.5979 7.73513C77.9551 6.56757 79.8139 5.98378 82.1742 5.98378C84.5542 5.98378 86.4228 6.56757 87.78 7.73513C89.1372 8.88324 89.8748 10.4886 89.9928 12.5514C90.0125 12.8043 90.0223 13.2422 90.0223 13.8649C90.0223 14.4876 90.0125 14.9254 89.9928 15.1784C89.8748 17.2605 89.1569 18.8757 87.839 20.0238C86.5212 21.1719 84.6329 21.7459 82.1742 21.7459ZM82.1742 18.1849C83.0397 18.1849 83.6789 17.9319 84.092 17.4259C84.5051 16.9005 84.7411 16.1027 84.8001 15.0324C84.8198 14.8378 84.8296 14.4486 84.8296 13.8649C84.8296 13.2811 84.8198 12.8919 84.8001 12.6973C84.7411 11.6465 84.4952 10.8584 84.0625 10.333C83.6494 9.80757 83.02 9.54486 82.1742 9.54486C80.5417 9.54486 79.6762 10.5957 79.5779 12.6973L79.5484 13.8649L79.5779 15.0324C79.6172 16.1027 79.8434 16.9005 80.2565 17.4259C80.6892 17.9319 81.3284 18.1849 82.1742 18.1849Z" fill="#498AF4"/>
            <path d="M93.1004 21.4541C92.8841 21.4541 92.707 21.3859 92.5694 21.2497C92.4317 21.1135 92.3628 20.9384 92.3628 20.7243V7.0054C92.3628 6.79135 92.4317 6.61622 92.5694 6.48C92.707 6.34378 92.8841 6.27567 93.1004 6.27567H96.4934C96.7098 6.27567 96.8868 6.34378 97.0245 6.48C97.1818 6.61622 97.2605 6.79135 97.2605 7.0054V8.11459C97.7916 7.47243 98.4702 6.95676 99.2963 6.56757C100.142 6.17838 101.096 5.98378 102.158 5.98378C103.889 5.98378 105.295 6.56757 106.377 7.73513C107.459 8.88324 108 10.4984 108 12.5805V20.7243C108 20.9189 107.931 21.0941 107.793 21.2497C107.656 21.3859 107.479 21.4541 107.262 21.4541H103.545C103.348 21.4541 103.171 21.3859 103.014 21.2497C102.876 21.0941 102.807 20.9189 102.807 20.7243V12.7557C102.807 11.8411 102.581 11.1405 102.129 10.6541C101.676 10.1481 101.027 9.89513 100.181 9.89513C99.3553 9.89513 98.7062 10.1481 98.2341 10.6541C97.7621 11.1405 97.526 11.8411 97.526 12.7557V20.7243C97.526 20.9189 97.4572 21.0941 97.3195 21.2497C97.1818 21.3859 97.0048 21.4541 96.7884 21.4541H93.1004Z" fill="#498AF4"/>
          </svg>
        </Link>
      }

      {/* mobile burger button */}
      <Box
        onClick={() => setMobileNavOpen(!mobileNavOpen)}
        sx={{
          [theme.breakpoints.down('sm')]: {
            display: 'flex',
            flexDirection: 'column',
            justifyContent: 'space-evenly',
            alignItems: 'end',
            cursor: 'pointer',
            zIndex: '10',
            height: '20px'
          },
          display: 'none'
        }}
      >
        <Box component="div" sx={{
          backgroundColor: mobileNavOpen || !transparent ? colors.gray[500] : 'white',
          height: '2px',
          width: mobileNavOpen ? '20px' : '14px',
          transition: 'all 0.2s linear',
          transform: mobileNavOpen ? 'rotate(45deg)' : 'rotate(0)',
          transformOrigin: '0'
        }}></Box>
        <Box component="div" sx={{
          backgroundColor: mobileNavOpen || !transparent ? colors.gray[500] : 'white',
          height: '2px',
          width: '20px',
          transition: 'all 0.2s linear',
          opacity: mobileNavOpen ? '0' : '1',
          transform: mobileNavOpen ? 'translateX(20px)' : 'translateX(0)'
        }}></Box>
        <Box component="div" sx={{
          backgroundColor: mobileNavOpen || !transparent ? colors.gray[500] : 'white',
          height: '2px',
          width: mobileNavOpen ? '20px' : '14px',
          transition: 'all 0.2s linear',
          transform: mobileNavOpen ? 'rotate(-45deg)' : 'rotate(0)',
          transformOrigin: '4px'
        }}></Box>
      </Box>

      {/* mobile nav items */}
      <Box
        component="div"
        style={{
          visibility: mobileNavOpen ? 'visible' : 'hidden',
          display: 'flex',
          flexDirection: 'column',
          backgroundColor: 'white',
          justifyContent: 'space-evenly',
          alignItems: 'center',
          gap: '48px',
          zIndex: '-1',
          position: 'absolute',
          transition: 'all 0.2s ease-in-out',
          top: mobileNavOpen ? '0' : '-150px',
          left: 0,
          width: '100vw',
          padding: '80px 0',
          opacity: mobileNavOpen ? '1' : '0',
        }}
      >
        <Link style={{...linkStyles, color: colors.gray[500]}} to="/">Home</Link>
        <Link style={linkStyles} to="/organizations" className={pathname === '/organizations' && 'active-link'}>Organizations</Link>
        <Button
          sx={{
            borderRadius: '4px',
            backgroundColor: 'linear-gradient(90deg, #498AF4 0%, #1A73E8 100%)',
            fontSize: '12px',
            padding: '4px 16px',
            width: 'fit-content'
          }}
        >
          Join the waitlist
        </Button>
      </Box>

      {/* desktop nav items */}
      <Box
        sx={{
          display: 'flex',
          gap: '48px',
          [theme.breakpoints.down('sm')]: {
            display: 'none'
          }
        }}
      >
        <Link style={{...linkStyles, color: transparent ? 'white' : colors.gray[500],}} to="/">Home</Link>
        <Link style={linkStyles} to="/organizations" className={pathname === '/organizations' && 'active-link'}>Organizations</Link>
        <Button
          sx={{
            borderRadius: '4px',
            padding: '8px 24px',
            backgroundColor: 'linear-gradient(90deg, #498AF4 0%, #1A73E8 100%)',
            textTransform: 'none',
            [theme.breakpoints.down('md')]: {
              fontSize: '12px',
              padding: '4px 16px'
            }
          }}
        >
          Join the waitlist
        </Button>
      </Box>
    </Box>
  )
}

export default NavBar
